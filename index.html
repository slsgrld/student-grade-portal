<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Grade Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f0f5ff;
    }
    .modal {
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .modal-content {
      max-height: 80vh;
      overflow-y: auto;
    }
    .progress-ring {
      transform: rotate(-90deg);
    }
    .btn-primary {
      background-color: #4f46e5;
      transition: all 0.3s ease;
    }
    .btn-primary:hover {
      background-color: #4338ca;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
    }
    .btn-secondary {
      background-color: #10b981;
      transition: all 0.3s ease;
    }
    .btn-secondary:hover {
      background-color: #059669;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    }
    .card {
      transition: all 0.3s ease;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    .badge {
      transition: all 0.3s ease;
    }
    .badge:hover {
      transform: scale(1.05);
    }
    .collapsible-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    .collapsible-content.open {
      max-height: 1000px;
      transition: max-height 0.5s ease-in;
    }
    .grade-passed {
      background-color: #d1fae5;
      color: #065f46;
    }
    .grade-conditional {
      background-color: #fef3c7;
      color: #92400e;
    }
    .grade-failed {
      background-color: #fee2e2;
      color: #b91c1c;
    }
    .attendance-policy-text {
      font-size: 0.8rem;
      line-height: 1.3;
    }
    .loading-bar {
      height: 4px;
      background: linear-gradient(to right, #4f46e5, #10b981);
      animation: loading 2s ease-in-out infinite;
      background-size: 200% 100%;
    }
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    .loading-icon {
      animation: spin 1.5s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .email-link {
      color: #4f46e5;
      text-decoration: underline;
      font-weight: 500;
      transition: all 0.2s;
    }
    .email-link:hover {
      color: #4338ca;
    }
    .sample-email {
      font-family: monospace;
      background-color: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 0.375rem;
      padding: 1rem;
      font-size: 0.875rem;
      line-height: 1.5;
      color: #334155;
      word-break: break-word;
    }
    .sample-email .subject {
      color: #1e40af;
      font-weight: 600;
    }
    .sample-email .body {
      margin-top: 0.75rem;
      white-space: pre-line;
    }
    .reopen-btn {
      transition: all 0.2s ease;
    }
    .reopen-btn:hover {
      transform: translateY(-2px);
    }
    .notification-box {
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(236, 72, 153, 0.4);
      }
      70% {
        box-shadow: 0 0 0 10px rgba(236, 72, 153, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(236, 72, 153, 0);
      }
    }
    .highlight-text {
      background: linear-gradient(120deg, rgba(236, 72, 153, 0.2) 0%, rgba(236, 72, 153, 0.3) 100%);
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
      font-weight: 600;
    }
    .process-step {
      position: relative;
      padding-left: 2.5rem;
    }
    .process-step:before {
      content: "";
      position: absolute;
      left: 0.75rem;
      top: 0;
      bottom: 0;
      width: 2px;
      background-color: #ec4899;
    }
    .process-step:first-child:before {
      top: 1rem;
    }
    .process-step:last-child:before {
      bottom: calc(100% - 1rem);
    }
    .process-step-number {
      position: absolute;
      left: 0;
      top: 0;
      width: 1.5rem;
      height: 1.5rem;
      background-color: #ec4899;
      border-radius: 50%;
      color: white;
      font-weight: bold;
      font-size: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1;
    }
  </style>
</head>
<body class="min-h-screen">
  <!-- Header -->
  <header class="bg-gradient-to-r from-blue-500 to-teal-400 text-white py-8 px-4 shadow-lg">
    <div class="container mx-auto text-center">
      <h1 class="text-4xl font-bold mb-2">Student Grade Portal</h1>
      <p class="text-xl opacity-90">View your grades, attendance, and academic status</p>
    </div>
  </header>

  <!-- Search Section -->
  <div class="container mx-auto px-4 py-8">
    <div class="max-w-md mx-auto bg-white rounded-xl shadow-md p-6 mb-8">
      <div class="search-container">
        <label for="studentNumber" class="block text-sm font-medium text-gray-700 mb-2">Enter your Student Number (case sensitive)</label>
        <div class="flex gap-2">
          <input type="text" id="studentNumber" placeholder="C202401009" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none">
          <button id="searchBtn" class="btn-primary text-white px-4 py-2 rounded-lg font-medium">Search</button>
        </div>
        <p id="searchError" class="mt-2 text-red-500 text-sm hidden">Please enter a valid student number.</p>
      </div>
    </div>

    <!-- Loading Section -->
    <div id="loadingContainer" class="hidden max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-6 mb-8 fade-in">
      <div class="flex items-center justify-center mb-6">
        <div class="loading-icon w-12 h-12 text-indigo-600">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19l-7-7 7-7m8 14l-7-7 7-7" />
          </svg>
        </div>
        <div class="ml-4">
          <h2 class="text-xl font-bold text-gray-800">Processing Grades</h2>
          <p class="text-gray-500">Please wait while we retrieve your academic records...</p>
        </div>
      </div>
      
      <div class="w-full h-1 bg-gray-200 rounded-full mb-6">
        <div id="progressBar" class="loading-bar rounded-full w-full"></div>
      </div>
      
      <div id="loadingMessages" class="space-y-4">
        <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400 fade-in">
          <p class="text-gray-700"><span class="font-medium">Calculating weighted averages...</span> Each component (Studentship 10%, Activities 30%, Recitation 10%, Quizzes 20%, Exam 30%) contributes to your term grade.</p>
        </div>
      </div>
    </div>

    <!-- Results Section -->
    <div id="resultsContainer" class="hidden">
      <!-- Student Info Card -->
      <div class="bg-white rounded-xl shadow-lg p-6 mb-8 card">
        <div class="text-center mb-6">
          <h2 id="studentName" class="text-3xl font-bold text-gray-800"></h2>
          <p id="studentNumber_display" class="text-gray-500"></p>
          <div class="mt-3">
            <span id="statusBadge" class="badge inline-block px-4 py-1 rounded-full text-white font-medium"></span>
          </div>
        </div>
        
        <!-- Incomplete Notice -->
        <div id="incompleteNotice" class="hidden bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg mb-6">
          <div class="flex">
            <div class="flex-shrink-0">
              <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-3 flex-1">
              <h3 class="text-sm font-medium text-yellow-800">Incomplete Grade Notice</h3>
              <div class="mt-2 text-sm text-yellow-700">
                <p>You have missing requirements that need to be submitted to complete this course. Please submit all missing requirements to <a href="mailto:gerald_salas@psau.edu.ph" class="email-link">gerald_salas@psau.edu.ph</a> within one year, or your grade will lapse to 5.0 (Failed).</p>
                <p class="mt-2">Include your student number and course code in the email subject line.</p>
                <button onclick="openModal('incompleteRequirementsModal')" class="mt-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 px-3 py-1 rounded-md text-xs font-medium reopen-btn">
                  View Submission Instructions
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Final Assessment Section -->
        <div class="bg-gradient-to-r from-blue-50 to-teal-50 rounded-xl p-6 mb-6 relative">
          <div class="absolute top-4 right-4 flex gap-2">
            <button onclick="openModal('gradeComputationModal')" class="text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 px-2 py-1 rounded-md transition">Grade Computation</button>
            <button onclick="openModal('gradingScaleModal')" class="text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 px-2 py-1 rounded-md transition">Grading Scale</button>
          </div>
          
          <h3 class="text-xl font-semibold text-gray-700 mb-4">Final Assessment</h3>
          <div class="grid md:grid-cols-3 gap-4 text-center">
            <div class="bg-white p-4 rounded-lg shadow-sm">
              <p class="text-gray-500 text-sm">Final Grade Average</p>
              <p id="finalGradeAverage" class="text-3xl font-bold text-blue-600"></p>
            </div>
            <div class="bg-white p-4 rounded-lg shadow-sm">
              <p class="text-gray-500 text-sm">Grade Equivalent</p>
              <p id="finalGradeEquivalent" class="text-3xl font-bold text-blue-600"></p>
            </div>
            <div class="bg-white p-4 rounded-lg shadow-sm">
              <p class="text-gray-500 text-sm">Remarks</p>
              <p id="remarks" class="text-xl font-medium text-blue-600"></p>
            </div>
          </div>
        </div>
        
        <!-- Term Grades Section -->
        <div class="bg-white border border-gray-200 rounded-xl p-6 mb-6">
          <h3 class="text-xl font-semibold text-gray-700 mb-4">Term Grades</h3>
          <div class="grid md:grid-cols-2 gap-6">
            <div class="bg-gray-50 p-4 rounded-lg">
              <h4 class="font-medium text-gray-700 mb-2">Midterm</h4>
              <div class="flex justify-between items-center">
                <div>
                  <p class="text-sm text-gray-500">Average</p>
                  <p id="midtermAverage" class="text-2xl font-bold text-indigo-600"></p>
                </div>
                <div>
                  <p class="text-sm text-gray-500">Grade</p>
                  <p id="midtermGrade" class="text-2xl font-bold text-indigo-600"></p>
                </div>
              </div>
              
              <!-- Midterm Grade Breakdown -->
              <div class="mt-4">
                <button class="grade-breakdown-btn w-full flex justify-between items-center bg-gray-100 hover:bg-gray-200 p-2 rounded-lg transition" data-target="midtermBreakdown">
                  <span class="font-medium text-sm">View Breakdown</span>
                  <svg class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </button>
                <div id="midtermBreakdown" class="collapsible-content">
                  <div class="p-3 bg-white border border-gray-200 rounded-lg mt-2">
                    <table class="w-full text-sm">
                      <tbody>
                        <tr>
                          <td class="py-1 text-gray-500">Studentship</td>
                          <td id="midterm-studentship" class="py-1 font-medium text-right"></td>
                        </tr>
                        <tr>
                          <td class="py-1 text-gray-500">Activities</td>
                          <td id="midterm-activities" class="py-1 font-medium text-right"></td>
                        </tr>
                        <tr>
                          <td class="py-1 text-gray-500">Recitation</td>
                          <td id="midterm-recitation" class="py-1 font-medium text-right"></td>
                        </tr>
                        <tr>
                          <td class="py-1 text-gray-500">Quizzes</td>
                          <td id="midterm-quizzes" class="py-1 font-medium text-right"></td>
                        </tr>
                        <tr>
                          <td class="py-1 text-gray-500">Exam</td>
                          <td id="midterm-exam" class="py-1 font-medium text-right"></td>
                        </tr>
                        <tr class="border-t border-gray-200">
                          <td class="py-1 font-medium">Average</td>
                          <td id="midterm-average" class="py-1 font-bold text-right"></td>
                        </tr>
                        <tr>
                          <td class="py-1 font-medium">Grade</td>
                          <td id="midterm-grade-display" class="py-1 font-bold text-right"></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="bg-gray-50 p-4 rounded-lg">
              <h4 class="font-medium text-gray-700 mb-2">Final</h4>
              <div class="flex justify-between items-center">
                <div>
                  <p class="text-sm text-gray-500">Average</p>
                  <p id="finalAverage" class="text-2xl font-bold text-indigo-600"></p>
                </div>
                <div>
                  <p class="text-sm text-gray-500">Grade</p>
                  <p id="finalGrade" class="text-2xl font-bold text-indigo-600"></p>
                </div>
              </div>
              
              <!-- Final Grade Breakdown -->
              <div class="mt-4">
                <button class="grade-breakdown-btn w-full flex justify-between items-center bg-gray-100 hover:bg-gray-200 p-2 rounded-lg transition" data-target="finalBreakdown">
                  <span class="font-medium text-sm">View Breakdown</span>
                  <svg class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </button>
                <div id="finalBreakdown" class="collapsible-content">
                  <div class="p-3 bg-white border border-gray-200 rounded-lg mt-2">
                    <table class="w-full text-sm">
                      <tbody>
                        <tr>
                          <td class="py-1 text-gray-500">Studentship</td>
                          <td id="final-studentship" class="py-1 font-medium text-right"></td>
                        </tr>
                        <tr>
                          <td class="py-1 text-gray-500">Activities</td>
                          <td id="final-activities" class="py-1 font-medium text-right"></td>
                        </tr>
                        <tr>
                          <td class="py-1 text-gray-500">Recitation</td>
                          <td id="final-recitation" class="py-1 font-medium text-right"></td>
                        </tr>
                        <tr>
                          <td class="py-1 text-gray-500">Quizzes</td>
                          <td id="final-quizzes" class="py-1 font-medium text-right"></td>
                        </tr>
                        <tr>
                          <td class="py-1 text-gray-500">Exam</td>
                          <td id="final-exam" class="py-1 font-medium text-right"></td>
                        </tr>
                        <tr class="border-t border-gray-200">
                          <td class="py-1 font-medium">Average</td>
                          <td id="final-average" class="py-1 font-bold text-right"></td>
                        </tr>
                        <tr>
                          <td class="py-1 font-medium">Grade</td>
                          <td id="final-grade-display" class="py-1 font-bold text-right"></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Attendance Section -->
        <div class="bg-white border border-gray-200 rounded-xl p-6 mb-6">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-xl font-semibold text-gray-700">Attendance</h3>
            <button onclick="openModal('attendancePolicyModal')" class="text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 px-2 py-1 rounded-md transition">Attendance Policy</button>
          </div>
          
          <div class="flex flex-col md:flex-row items-center gap-6">
            <div class="w-52 h-52 relative">
              <svg class="w-full h-full" viewBox="0 0 120 120">
                <circle cx="60" cy="60" r="54" fill="none" stroke="#e5e7eb" stroke-width="12" />
                <circle id="attendanceArc" cx="60" cy="60" r="54" fill="none" stroke="#10b981" stroke-width="12" stroke-dasharray="0 339.292" stroke-linecap="round" />
                <text x="60" y="60" text-anchor="middle" dominant-baseline="middle" font-size="18" font-weight="bold" fill="#374151" id="attendancePercentage">0%</text>
              </svg>
            </div>
            <div class="flex-1">
              <p class="text-lg"><span id="attendanceSessions" class="font-bold text-teal-600"></span> of 16 sessions attended</p>
              <div class="bg-blue-50 border-l-4 border-blue-400 p-3 mt-2 attendance-policy-text text-gray-600">
                <p>Per BOR-approved handbook section 3.8.1.7: When a student's absences in a subject during one semester reach 20% of the required number of hours for recitation, lecture, laboratory, or scheduled work, and the absences are unexcused, the student shall be unofficially dropped from the class and given a grade of 5.0.</p>
                <p class="mt-2">To ensure fairness, a more lenient threshold of 50% absences was applied for this course. This was implemented as a considerate measure and was applied only to students who reached or exceeded this limit. Attendance reminders were issued multiple times during the semester.</p>
              </div>
            </div>
          </div>
        </div>
        
        <div class="text-center mt-8">
          <button id="searchAnotherBtn" class="btn-secondary text-white px-6 py-3 rounded-lg font-medium">Search Another Student</button>
        </div>
      </div>
      
      <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-lg mb-8">
        <p class="text-sm text-gray-600">For transparency, the detailed scores of your activities, assignments, and other class submissions are available on our official learning platform, Gnomio. Please log in to view your full performance record.</p>
      </div>
    </div>
    
    <!-- No Results Message -->
    <div id="noResultsContainer" class="hidden max-w-md mx-auto bg-white rounded-xl shadow-md p-6 text-center">
      <svg class="w-16 h-16 mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>
      <h3 class="text-xl font-medium text-gray-700 mt-4">Student not found</h3>
      <p class="text-gray-500 mt-2">Please check your Student Number.</p>
      <button id="tryAgainBtn" class="btn-primary text-white px-6 py-2 rounded-lg font-medium mt-4">Try Again</button>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-6 px-4 mt-12">
    <div class="container mx-auto text-center">
      <p class="mb-2">Developed by Dr. Gerald M. Salas</p>
      <p class="text-gray-400 text-sm">For inquiries: gerald_salas@psau.edu.ph</p>
      <p class="text-gray-400 text-sm mt-4">© 2025 Pampanga State Agricultural University</p>
    </div>
  </footer>

  <!-- Modals -->
  <!-- Grade Computation Modal -->
  <div id="gradeComputationModal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl max-w-lg w-full mx-4">
      <div class="modal-content p-6">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-xl font-bold text-gray-800">Grade Computation</h3>
          <button onclick="closeModal('gradeComputationModal')" class="text-gray-500 hover:text-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <div class="space-y-4">
          <h4 class="font-medium text-gray-700">Grade Components and Weights</h4>
          <div class="overflow-x-auto">
            <table class="min-w-full border border-gray-200 rounded-lg">
              <thead class="bg-gray-50">
                <tr>
                  <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Component</th>
                  <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Weight</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <tr>
                  <td class="px-4 py-2">Studentship</td>
                  <td class="px-4 py-2">10%</td>
                </tr>
                <tr>
                  <td class="px-4 py-2">Activities</td>
                  <td class="px-4 py-2">30%</td>
                </tr>
                <tr>
                  <td class="px-4 py-2">Recitation</td>
                  <td class="px-4 py-2">10%</td>
                </tr>
                <tr>
                  <td class="px-4 py-2">Quizzes</td>
                  <td class="px-4 py-2">20%</td>
                </tr>
                <tr>
                  <td class="px-4 py-2">Exam</td>
                  <td class="px-4 py-2">30%</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class="bg-blue-50 p-4 rounded-lg">
            <h4 class="font-medium text-gray-700 mb-2">Computation Process</h4>
            <ul class="list-disc pl-5 space-y-2 text-gray-600">
              <li>Each component is scored out of its maximum possible points.</li>
              <li>A weighted average is calculated for both Midterm and Final periods using the weights above.</li>
            </ul>
            
            <div class="mt-4">
              <p class="font-medium text-gray-700">The Final Grade Average is computed as:</p>
              <p class="bg-white p-2 rounded border border-gray-200 mt-2 text-center">Final Grade Average = (Midterm Grade × 50%) + (Final Grade × 50%)</p>
            </div>
            
            <p class="mt-4">The Final Grade Equivalent is determined using the official University Grading Scale.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Grading Scale Modal -->
  <div id="gradingScaleModal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl max-w-2xl w-full mx-4">
      <div class="modal-content p-6">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-xl font-bold text-gray-800">University Grading Scale</h3>
          <button onclick="closeModal('gradingScaleModal')" class="text-gray-500 hover:text-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Average</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Equivalent</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Remarks</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">100</td>
                <td class="px-4 py-2 whitespace-nowrap">1.00</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">99</td>
                <td class="px-4 py-2 whitespace-nowrap">1.10</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">98</td>
                <td class="px-4 py-2 whitespace-nowrap">1.20</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">97</td>
                <td class="px-4 py-2 whitespace-nowrap">1.30</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">96</td>
                <td class="px-4 py-2 whitespace-nowrap">1.40</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">95</td>
                <td class="px-4 py-2 whitespace-nowrap">1.50</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">94</td>
                <td class="px-4 py-2 whitespace-nowrap">1.60</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">93</td>
                <td class="px-4 py-2 whitespace-nowrap">1.70</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">92</td>
                <td class="px-4 py-2 whitespace-nowrap">1.80</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">91</td>
                <td class="px-4 py-2 whitespace-nowrap">1.90</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">90</td>
                <td class="px-4 py-2 whitespace-nowrap">2.00</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">89</td>
                <td class="px-4 py-2 whitespace-nowrap">2.10</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">88</td>
                <td class="px-4 py-2 whitespace-nowrap">2.20</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">87</td>
                <td class="px-4 py-2 whitespace-nowrap">2.30</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">86</td>
                <td class="px-4 py-2 whitespace-nowrap">2.40</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">85</td>
                <td class="px-4 py-2 whitespace-nowrap">2.50</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">84</td>
                <td class="px-4 py-2 whitespace-nowrap">2.60</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">83</td>
                <td class="px-4 py-2 whitespace-nowrap">2.60</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">82</td>
                <td class="px-4 py-2 whitespace-nowrap">2.70</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">81</td>
                <td class="px-4 py-2 whitespace-nowrap">2.70</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">80</td>
                <td class="px-4 py-2 whitespace-nowrap">2.80</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">79</td>
                <td class="px-4 py-2 whitespace-nowrap">2.80</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">78</td>
                <td class="px-4 py-2 whitespace-nowrap">2.90</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">77</td>
                <td class="px-4 py-2 whitespace-nowrap">2.90</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">76</td>
                <td class="px-4 py-2 whitespace-nowrap">3.00</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-passed">
                <td class="px-4 py-2 whitespace-nowrap">75</td>
                <td class="px-4 py-2 whitespace-nowrap">3.00</td>
                <td class="px-4 py-2 whitespace-nowrap">Passed</td>
              </tr>
              <tr class="grade-conditional">
                <td class="px-4 py-2 whitespace-nowrap">74</td>
                <td class="px-4 py-2 whitespace-nowrap">4.00</td>
                <td class="px-4 py-2 whitespace-nowrap">Conditional</td>
              </tr>
              <tr class="grade-conditional">
                <td class="px-4 py-2 whitespace-nowrap">73</td>
                <td class="px-4 py-2 whitespace-nowrap">4.00</td>
                <td class="px-4 py-2 whitespace-nowrap">Conditional</td>
              </tr>
              <tr class="grade-failed">
                <td class="px-4 py-2 whitespace-nowrap">72</td>
                <td class="px-4 py-2 whitespace-nowrap">5.00</td>
                <td class="px-4 py-2 whitespace-nowrap">Failed</td>
              </tr>
              <tr class="grade-failed">
                <td class="px-4 py-2 whitespace-nowrap">71</td>
                <td class="px-4 py-2 whitespace-nowrap">5.00</td>
                <td class="px-4 py-2 whitespace-nowrap">Failed</td>
              </tr>
              <tr class="grade-failed">
                <td class="px-4 py-2 whitespace-nowrap">70</td>
                <td class="px-4 py-2 whitespace-nowrap">5.00</td>
                <td class="px-4 py-2 whitespace-nowrap">Failed</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Attendance Policy Modal -->
  <div id="attendancePolicyModal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl max-w-2xl w-full mx-4">
      <div class="modal-content p-6">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-xl font-bold text-gray-800">Attendance Policy</h3>
          <button onclick="closeModal('attendancePolicyModal')" class="text-gray-500 hover:text-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <div class="space-y-4">
          <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4">
            <h4 class="font-medium text-gray-800">Official University Policy</h4>
            <p class="text-gray-600 mt-1">Per BOR-approved handbook section 3.8.1.7: When a student's absences in a subject during one semester reach 20% of the required number of hours for recitation, lecture, laboratory, or scheduled work, and the absences are unexcused, the student shall be unofficially dropped from the class and given a grade of 5.0.</p>
          </div>
          
          <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-lg">
            <h4 class="font-medium text-gray-800 mb-2 text-lg">⚠️ For this course:</h4>
            <ul class="list-disc pl-5 space-y-2 text-gray-600">
              <li>A more lenient threshold of 50% was applied to ensure fairness.</li>
              <li>Only documented attendance using signed sheets was accepted.</li>
              <li>Attendance in online classes (synchronous and asynchronous) was not included.</li>
              <li>This leniency does not override university policy but is used for academic consideration in this course only.</li>
            </ul>
          </div>
          
          <div class="bg-red-50 p-4 rounded-lg">
            <h4 class="font-medium text-gray-800 mb-2">Consequences of Poor Attendance</h4>
            <ul class="list-disc pl-5 space-y-1 text-gray-600">
              <li>Students with attendance below 50% will be marked as "Unofficially Dropped" regardless of performance in other components.</li>
              <li>No make-up work can compensate for excessive absences.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Status Prompt Modal -->
  <div id="statusPromptModal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl max-w-md w-full mx-4">
      <div class="modal-content p-6">
        <div class="flex justify-between items-center mb-4">
          <h3 id="statusPromptTitle" class="text-xl font-bold text-gray-800"></h3>
          <button onclick="closeModal('statusPromptModal')" class="text-gray-500 hover:text-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <p id="statusPromptMessage" class="text-gray-600"></p>
        <div class="mt-6 text-right">
          <button onclick="closeModal('statusPromptModal')" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition">Understood</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Incomplete Requirements Modal -->
  <div id="incompleteRequirementsModal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl max-w-lg w-full mx-4">
      <div class="modal-content p-6">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-xl font-bold text-yellow-800">Incomplete Grade Notice</h3>
          <button onclick="closeModal('incompleteRequirementsModal')" class="text-gray-500 hover:text-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <div class="bg-yellow-50 p-4 rounded-lg mb-4">
          <div class="flex">
            <div class="flex-shrink-0">
              <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-sm text-yellow-700">You have one year from the end of this semester to complete all missing requirements, or your grade will automatically convert to 5.0 (Failed).</p>
            </div>
          </div>
        </div>
        
        <div class="space-y-4">
          <h4 class="font-medium text-gray-800">Submit Missing Requirements To:</h4>
          <div class="bg-blue-50 p-4 rounded-lg">
            <p class="font-medium">Dr. Gerald M. Salas</p>
            <p class="text-blue-700 mt-1">
              <a href="mailto:gerald_salas@psau.edu.ph" class="email-link">gerald_salas@psau.edu.ph</a>
            </p>
          </div>
          
          <div class="bg-gray-50 p-4 rounded-lg">
            <h5 class="font-medium text-gray-700 mb-2">Email Format:</h5>
            <ul class="list-disc pl-5 space-y-2 text-gray-600">
              <li><strong>Subject:</strong> [Student Number] - Missing Requirements for [Course Code]</li>
              <li><strong>Body:</strong> Include your full name, section, and list of attached requirements</li>
              <li><strong>Attachments:</strong> All missing requirements as specified in your course syllabus</li>
            </ul>
          </div>
          
          <div class="bg-white border border-gray-200 rounded-lg p-4">
            <h5 class="font-medium text-gray-700 mb-2">Sample Email:</h5>
            <div class="sample-email">
              <div class="subject">Subject: C202401011 - Missing Requirements for GE-Elect-MST</div>
              <div class="body">Dear Dr. Salas,

I am Alex Johnson, a student from BSHM 1-D with an Incomplete grade in GE-Elect-MST.

I am submitting the following missing requirements:
1. Activity 4 Report
2. Activity 4 Video

Please find the attachments to this email. Let me know if you need any additional information.

Thank you for your consideration.

Sincerely,
Alex Johnson
C202401011
BSHM 1-D</div>
            </div>
          </div>
          
          <!-- Updated notification box with new process information -->
          <div class="notification-box bg-pink-50 border-2 border-pink-300 p-4 rounded-lg">
            <div class="flex items-start">
              <div class="flex-shrink-0 mt-1">
                <svg class="h-6 w-6 text-pink-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9a1 1 0 00-1-1z" clip-rule="evenodd" />
                </svg>
              </div>
              <div class="ml-3">
                <h5 class="text-pink-800 font-bold text-lg">Grade Update Process:</h5>
                
                <div class="mt-3 space-y-4">
                  <div class="process-step">
                    <div class="process-step-number">1</div>
                    <p class="text-pink-700 font-medium">Submit your missing requirements via email</p>
                  </div>
                  
                  <div class="process-step">
                    <div class="process-step-number">2</div>
                    <p class="text-pink-700">Allow up to <span class="highlight-text">2 weeks for processing</span> and grade update</p>
                  </div>
                  
                  <div class="process-step">
                    <div class="process-step-number">3</div>
                    <p class="text-pink-700">You will be <span class="highlight-text">informed via email</span> to obtain a completion form from the Registration Unit</p>
                  </div>
                  
                  <div class="process-step">
                    <div class="process-step-number">4</div>
                    <p class="text-pink-700">Visit the Registration Unit to <span class="highlight-text">complete the form</span> to update your grade in the system</p>
                  </div>
                </div>
                
                <div class="mt-4 bg-white p-3 rounded-lg border border-pink-200">
                  <p class="text-pink-800 font-bold">Important:</p>
                  <p class="text-pink-700 mt-1">You must check your email regularly and follow up with the Registration Unit to ensure your grade is properly updated in the system.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="mt-6 text-right">
          <button onclick="closeModal('incompleteRequirementsModal')" class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg transition">I Understand</button>
        </div>
      </div>
    </div>
  </div>

  <script>
// Student Data
const students = [
    {
        studentNumber: "C202402857",
        name: "Abalos, Sean Adrielee S.",
        attendance: 8,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Unofficially Dropped",
        remarks: "Did not submit the report and video for Activity 4. Number of absences met or exceeded the allowed limit of 8 sessions (8 out of 16)."
    },
    {
        studentNumber: "C202401009",
        name: "Adriano, Precious Iya C.",
        attendance: 15,
        midterm: {
            studentship: 8.8,
            activities: 28.23,
            recitation: 9.1,
            quizzes: 17.0,
            exam: 27.0,
            average: 90.13,
            grade: "2.00"
        },
        final: {
            studentship: 9.68,
            activities: 28.6,
            recitation: 8.2,
            quizzes: 16.42,
            exam: 25.2,
            average: 88.1,
            grade: "2.20"
        },
        finalGradeAverage: 89.12,
        finalGradeEquivalent: "2.10",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402875",
        name: "Apostol, Roy S.",
        attendance: 13,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report and video for Activity 4."
    },
    {
        studentNumber: "C202406811",
        name: "Batas, Anthony A.",
        attendance: 15,
        midterm: {
            studentship: 8.8,
            activities: 28.07,
            recitation: 9.3,
            quizzes: 16.35,
            exam: 24.4,
            average: 87.13,
            grade: "2.30"
        },
        final: {
            studentship: 8.72,
            activities: 21.0,
            recitation: 7.3,
            quizzes: 17.6,
            exam: 29.0,
            average: 84.0,
            grade: "2.50"
        },
        finalGradeAverage: 85.57,
        finalGradeEquivalent: "2.40",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202401804",
        name: "Buhay, Adrian Zander",
        attendance: 16,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report for Activity 4."
    },
    {
        studentNumber: "C202402858",
        name: "Bustos, Bryan James M.",
        attendance: 13,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report and video for Activity 4."
    },
    {
        studentNumber: "C202402778",
        name: "Cabigting, Cler Joco S.",
        attendance: 11,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report for Activity 4."
    },
    {
        studentNumber: "C202403026",
        name: "Castro, Alyssa Jionna G.",
        attendance: 16,
        midterm: {
            studentship: 8.8,
            activities: 28.3,
            recitation: 9.2,
            quizzes: 16.8,
            exam: 28.0,
            average: 90.1,
            grade: "2.00"
        },
        final: {
            studentship: 9.94,
            activities: 23.6,
            recitation: 7.9,
            quizzes: 17.3,
            exam: 28.65,
            average: 89.73,
            grade: "2.00"
        },
        finalGradeAverage: 89.91,
        finalGradeEquivalent: "2.00",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202403206",
        name: "Celestino, Justine Gabriel M.",
        attendance: 15,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report and video for Activity 4."
    },
    {
        studentNumber: "C202402164",
        name: "Clemente, Hasley D.",
        attendance: 16,
        midterm: {
            studentship: 8.8,
            activities: 28.3,
            recitation: 9.1,
            quizzes: 17.6,
            exam: 28.5,
            average: 92.3,
            grade: "1.80"
        },
        final: {
            studentship: 9.92,
            activities: 23.3,
            recitation: 8.0,
            quizzes: 18.0,
            exam: 29.1,
            average: 92.28,
            grade: "1.80"
        },
        finalGradeAverage: 92.29,
        finalGradeEquivalent: "1.80",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402376",
        name: "Cosio, Angelica J.",
        attendance: 15,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report and video for Activity 4."
    },
    {
        studentNumber: "C202402378",
        name: "Daludgug, Jules Andrei M.",
        attendance: 7,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Unofficially Dropped",
        remarks: "Did not submit the video for Activity 4. Number of absences met or exceeded the allowed limit of 8 sessions (9 out of 16)."
    },
    {
        studentNumber: "C202401070",
        name: "David, Thea Destiny M.",
        attendance: 16,
        midterm: {
            studentship: 8.8,
            activities: 28.0,
            recitation: 9.2,
            quizzes: 18.3,
            exam: 28.5,
            average: 92.01,
            grade: "1.80"
        },
        final: {
            studentship: 9.43,
            activities: 23.3,
            recitation: 8.3,
            quizzes: 18.0,
            exam: 28.4,
            average: 91.98,
            grade: "1.80"
        },
        finalGradeAverage: 92.0,
        finalGradeEquivalent: "1.80",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402167",
        name: "Dela Cruz, Jamella N.",
        attendance: 8,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Unofficially Dropped",
        remarks: "Did not submit the video for Activity 4. Number of absences met or exceeded the allowed limit of 8 sessions (8 out of 16)."
    },
    {
        studentNumber: "C202401258",
        name: "Del Rosario, Alljen",
        attendance: 16,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report and video for Activity 4."
    },
    {
        studentNumber: "C202401689",
        name: "Divinagracia, Roxanne D.",
        attendance: 13,
        midterm: {
            studentship: 8.8,
            activities: 28.0,
            recitation: 9.1,
            quizzes: 15.45,
            exam: 24.3,
            average: 85.65,
            grade: "2.40"
        },
        final: {
            studentship: 9.04,
            activities: 21.0,
            recitation: 7.0,
            quizzes: 16.13,
            exam: 28.0,
            average: 86.57,
            grade: "2.30"
        },
        finalGradeAverage: 86.49,
        finalGradeEquivalent: "2.40",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402112",
        name: "Esguerra, Shayne Raven M.",
        attendance: 8,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Unofficially Dropped",
        remarks: "Did not submit the video for Activity 4. Number of absences met or exceeded the allowed limit of 8 sessions (8 out of 16)."
    },
    {
        studentNumber: "C202402172",
        name: "Franco, Althea Faye M.",
        attendance: 13,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report and video for Activity 4."
    },
   	    {
        studentNumber: "C202403284",
        name: "Frigillana, Casandrianne Jahnea A.",
        attendance: 15,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the video for Activity 4."
    },
    {
        studentNumber: "C202402178",
        name: "Geronimo, Eric Z.",
        attendance: 10,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report and video for Activity 4."
    },
    {
        studentNumber: "C202402151",
        name: "Herrera, Abraham D.",
        attendance: 13,
        midterm: {
            studentship: 8.8,
            activities: 27.1,
            recitation: 9.3,
            quizzes: 17.3,
            exam: 27.3,
            average: 89.5,
            grade: "2.00"
        },
        final: {
            studentship: 9.83,
            activities: 25.0,
            recitation: 7.4,
            quizzes: 17.0,
            exam: 26.85,
            average: 87.04,
            grade: "2.20"
        },
        finalGradeAverage: 88.27,
        finalGradeEquivalent: "2.20",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202401622",
        name: "Ibay, Mark Leo H.",
        attendance: 15,
        midterm: {
            studentship: 8.8,
            activities: 26.5,
            recitation: 9.3,
            quizzes: 18.3,
            exam: 28.75,
            average: 89.65,
            grade: "2.00"
        },
        final: {
            studentship: 9.93,
            activities: 25.0,
            recitation: 7.4,
            quizzes: 17.0,
            exam: 26.85,
            average: 85.24,
            grade: "2.30"
        },
        finalGradeAverage: 87.45,
        finalGradeEquivalent: "2.20",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402868",
        name: "Lopez, Luzlyn Ghed",
        attendance: 14,
        midterm: {
            studentship: 8.8,
            activities: 27.97,
            recitation: 9.3,
            quizzes: 18.3,
            exam: 28.2,
            average: 92.57,
            grade: "1.70"
        },
        final: {
            studentship: 9.43,
            activities: 29.8,
            recitation: 8.8,
            quizzes: 15.98,
            exam: 29.0,
            average: 92.01,
            grade: "1.80"
        },
        finalGradeAverage: 92.29,
        finalGradeEquivalent: "1.80",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202403347",
        name: "Magalang, Kris Joanna B.",
        attendance: 16,
        midterm: {
            studentship: 8.8,
            activities: 27.57,
            recitation: 9.4,
            quizzes: 18.5,
            exam: 29.7,
            average: 93.97,
            grade: "1.60"
        },
        final: {
            studentship: 9.99,
            activities: 29.7,
            recitation: 8.5,
            quizzes: 17.0,
            exam: 29.45,
            average: 94.39,
            grade: "1.60"
        },
        finalGradeAverage: 94.18,
        finalGradeEquivalent: "1.60",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402189",
        name: "Maglaqui, Jerryl Jane F.",
        attendance: 7,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Unofficially Dropped",
        remarks: "Did not submit the report and video for Activity 4. Number of absences met or exceeded the allowed limit of 8 sessions (9 out of 16)."
    },
    {
        studentNumber: "C202401010",
        name: "Marcial, Estephanie Megs S.",
        attendance: 14,
        midterm: {
            studentship: 8.8,
            activities: 28.33,
            recitation: 9.3,
            quizzes: 15.8,
            exam: 23.7,
            average: 85.93,
            grade: "2.40"
        },
        final: {
            studentship: 9.41,
            activities: 28.6,
            recitation: 7.6,
            quizzes: 15.07,
            exam: 25.2,
            average: 85.2,
            grade: "2.40"
        },
        finalGradeAverage: 85.91,
        finalGradeEquivalent: "2.40",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402196",
        name: "Mercado, Charmine O.",
        attendance: 15,
        midterm: {
            studentship: 8.8,
            activities: 28.03,
            recitation: 9.3,
            quizzes: 18.1,
            exam: 28.8,
            average: 93.03,
            grade: "1.70"
        },
        final: {
            studentship: 9.96,
            activities: 28.8,
            recitation: 8.2,
            quizzes: 16.51,
            exam: 27.9,
            average: 90.32,
            grade: "2.00"
        },
        finalGradeAverage: 91.68,
        finalGradeEquivalent: "1.80",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202401199",
        name: "Mercado, Nica G.",
        attendance: 15,
        midterm: {
            studentship: 8.8,
            activities: 28.13,
            recitation: 9.3,
            quizzes: 18.3,
            exam: 29.1,
            average: 93.33,
            grade: "1.70"
        },
        final: {
            studentship: 9.42,
            activities: 28.0,
            recitation: 8.2,
            quizzes: 15.6,
            exam: 26.85,
            average: 90.01,
            grade: "2.00"
        },
        finalGradeAverage: 91.67,
        finalGradeEquivalent: "1.80",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202400813",
        name: "Mijares, Ma. Samantha V.",
        attendance: 14,
        midterm: {
            studentship: 8.8,
            activities: 28.2,
            recitation: 9.1,
            quizzes: 19.1,
            exam: 29.1,
            average: 94.3,
            grade: "1.60"
        },
        final: {
            studentship: 9.37,
            activities: 27.3,
            recitation: 8.2,
            quizzes: 16.07,
            exam: 29.0,
            average: 91.49,
            grade: "1.90"
        },
        finalGradeAverage: 92.9,
        finalGradeEquivalent: "1.80",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402403",
        name: "Miranda, Jhamy M.",
        attendance: 13,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report and video for Activity 4."
    },
    {
        studentNumber: "C202405846",
        name: "Morales, Franzen",
        attendance: 13,
        midterm: {
            studentship: 8.8,
            activities: 28.3,
            recitation: 9.3,
            quizzes: 15.5,
            exam: 27.0,
            average: 85.0,
            grade: "2.60"
        },
        final: {
            studentship: 9.62,
            activities: 27.6,
            recitation: 7.9,
            quizzes: 14.8,
            exam: 21.9,
            average: 81.22,
            grade: "2.70"
        },
        finalGradeAverage: 83.11,
        finalGradeEquivalent: "2.60",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402203",
        name: "Muñoz, Alexander K.",
        attendance: 15,
        midterm: {
            studentship: 8.8,
            activities: 28.2,
            recitation: 9.1,
            quizzes: 18.25,
            exam: 28.1,
            average: 93.15,
            grade: "1.70"
        },
        final: {
            studentship: 9.68,
            activities: 26.8,
            recitation: 8.0,
            quizzes: 16.8,
            exam: 27.0,
            average: 90.54,
            grade: "1.90"
        },
        finalGradeAverage: 91.85,
        finalGradeEquivalent: "1.80",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402836",
        name: "Nacis, Kimberly P.",
        attendance: 15,
        midterm: {
            studentship: 8.8,
            activities: 27.03,
            recitation: 9.0,
            quizzes: 18.0,
            exam: 26.3,
            average: 85.98,
            grade: "2.40"
        },
        final: {
            studentship: 9.6,
            activities: 26.4,
            recitation: 8.2,
            quizzes: 16.9,
            exam: 27.0,
            average: 91.04,
            grade: "1.90"
        },
        finalGradeAverage: 88.51,
        finalGradeEquivalent: "2.20",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402873",
        name: "Rilan, Kyrie Elleison P.",
        attendance: 10,
        midterm: {
            studentship: 8.8,
            activities: 26.1,
            recitation: 9.3,
            quizzes: 16.55,
            exam: 25.8,
            average: 85.95,
            grade: "2.40"
        },
        final: {
            studentship: 8.11,
            activities: 24.6,
            recitation: 8.0,
            quizzes: 17.4,
            exam: 25.5,
            average: 80.45,
            grade: "2.80"
        },
        finalGradeAverage: 83.2,
        finalGradeEquivalent: "2.60",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402176",
        name: "Usi, Angel Fatima M.",
        attendance: 15,
        midterm: {
            studentship: 8.8,
            activities: 26.43,
            recitation: 9.2,
            quizzes: 18.15,
            exam: 28.9,
            average: 91.48,
            grade: "1.90"
        },
        final: {
            studentship: 9.42,
            activities: 22.8,
            recitation: 8.0,
            quizzes: 17.3,
            exam: 29.0,
            average: 84.83,
            grade: "2.20"
        },
        finalGradeAverage: 88.16,
        finalGradeEquivalent: "2.20",
        interpretation: "Passed",
        remarks: ""
    },
    {
        studentNumber: "C202402289",
        name: "Villegas, Jeriene Jane G.",
        attendance: 13,
        midterm: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        final: {
            studentship: "N/A",
            activities: "N/A",
            recitation: "N/A",
            quizzes: "N/A",
            exam: "N/A",
            average: "N/A",
            grade: "N/A"
        },
        finalGradeAverage: "N/A",
        finalGradeEquivalent: "N/A",
        interpretation: "Incomplete",
        remarks: "Did not submit the report and video for Activity 4."
    }
    ];

    // Loading messages
    const loadingMessages = [
      {
        message: "Calculating weighted averages... Each component (Studentship 10%, Activities 30%, Recitation 10%, Quizzes 20%, Exam 30%) contributes to your term grade.",
        type: "info"
      },
      {
        message: "Checking attendance records... Attendance is critical for academic success and is factored into your final standing.",
        type: "info"
      },
      {
        message: "Applying university grading scale... Your numerical average is being converted to the standard university grade equivalent.",
        type: "info"
      },
      {
        message: "Verifying academic status... Determining if your performance meets the requirements for passing, conditional, or incomplete status.",
        type: "info"
      },
      {
        message: "Finalizing grade report... Combining midterm (50%) and final (50%) grades to calculate your semester performance.",
        type: "success"
      }
    ];

    // DOM Elements
    const studentNumberInput = document.getElementById('studentNumber');
    const searchBtn = document.getElementById('searchBtn');
    const searchError = document.getElementById('searchError');
    const loadingContainer = document.getElementById('loadingContainer');
    const loadingMessagesContainer = document.getElementById('loadingMessages');
    const resultsContainer = document.getElementById('resultsContainer');
    const noResultsContainer = document.getElementById('noResultsContainer');
    const searchAnotherBtn = document.getElementById('searchAnotherBtn');
    const tryAgainBtn = document.getElementById('tryAgainBtn');
    const breakdownButtons = document.querySelectorAll('.grade-breakdown-btn');
    const incompleteNotice = document.getElementById('incompleteNotice');

    // Event Listeners
    searchBtn.addEventListener('click', searchStudent);
    studentNumberInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        searchStudent();
      }
    });
    searchAnotherBtn.addEventListener('click', resetSearch);
    tryAgainBtn.addEventListener('click', resetSearch);
    
    // Add event listeners for grade breakdown buttons
    breakdownButtons.forEach(button => {
      button.addEventListener('click', function() {
        const targetId = this.getAttribute('data-target');
        const content = document.getElementById(targetId);
        content.classList.toggle('open');
        
        // Toggle the arrow icon
        const icon = this.querySelector('svg');
        icon.classList.toggle('rotate-180');
      });
    });

    // Functions
    function searchStudent() {
      const studentNumber = studentNumberInput.value.trim();
      
      if (!studentNumber) {
        searchError.classList.remove('hidden');
        return;
      }
      
      const student = students.find(s => s.studentNumber === studentNumber);
      
      if (student) {
        // Show loading screen
        loadingContainer.classList.remove('hidden');
        resultsContainer.classList.add('hidden');
        noResultsContainer.classList.add('hidden');
        
        // Clear previous loading messages
        loadingMessagesContainer.innerHTML = '';
        
        // Display loading messages sequentially
        displayLoadingMessages(0, student);
      } else {
        loadingContainer.classList.add('hidden');
        resultsContainer.classList.add('hidden');
        noResultsContainer.classList.remove('hidden');
      }
      
      searchError.classList.add('hidden');
    }

    function displayLoadingMessages(index, student) {
      if (index >= loadingMessages.length) {
        // All messages displayed, show results
        setTimeout(() => {
          loadingContainer.classList.add('hidden');
          displayStudentData(student);
          resultsContainer.classList.remove('hidden');
        }, 1000);
        return;
      }
      
      const message = loadingMessages[index];
      const messageElement = document.createElement('div');
      
      let bgColor = 'bg-blue-50';
      let borderColor = 'border-blue-400';
      
      if (message.type === 'success') {
        bgColor = 'bg-green-50';
        borderColor = 'border-green-400';
      } else if (message.type === 'warning') {
        bgColor = 'bg-yellow-50';
        borderColor = 'border-yellow-400';
      }
      
      messageElement.className = `${bgColor} p-4 rounded-lg border-l-4 ${borderColor} fade-in`;
      messageElement.innerHTML = `<p class="text-gray-700"><span class="font-medium">${message.message.split('...')[0]}...</span> ${message.message.split('...')[1]}</p>`;
      
      loadingMessagesContainer.appendChild(messageElement);
      
      // Display next message after delay
      setTimeout(() => {
        displayLoadingMessages(index + 1, student);
      }, 1500);
    }

    function resetSearch() {
      studentNumberInput.value = '';
      loadingContainer.classList.add('hidden');
      resultsContainer.classList.add('hidden');
      noResultsContainer.classList.add('hidden');
      searchError.classList.add('hidden');
      incompleteNotice.classList.add('hidden');
    }

    function displayStudentData(student) {
      // Basic info
      document.getElementById('studentName').textContent = student.name;
      document.getElementById('studentNumber_display').textContent = student.studentNumber;
      
      // Status badge
      const statusBadge = document.getElementById('statusBadge');
      statusBadge.textContent = student.interpretation;
      
      // Hide incomplete notice by default
      incompleteNotice.classList.add('hidden');
      
      if (student.interpretation === 'Passed') {
        statusBadge.classList.add('bg-green-500');
        statusBadge.classList.remove('bg-yellow-500', 'bg-red-500');
      } else if (student.interpretation === 'Incomplete') {
        statusBadge.classList.add('bg-yellow-500');
        statusBadge.classList.remove('bg-green-500', 'bg-red-500');
        // Show incomplete notice
        incompleteNotice.classList.remove('hidden');
        // Show incomplete modal with email information
        setTimeout(() => {
          openModal('incompleteRequirementsModal');
        }, 500);
      } else if (student.interpretation === 'Unofficially Dropped') {
        statusBadge.classList.add('bg-red-500');
        statusBadge.classList.remove('bg-green-500', 'bg-yellow-500');
        showStatusPrompt('Unofficially Dropped', 'The policy on attendance applies.');
      }
      
      // Final assessment
      document.getElementById('finalGradeAverage').textContent = student.finalGradeAverage;
      document.getElementById('finalGradeEquivalent').textContent = student.finalGradeEquivalent;
      
      // Remarks (only show if available)
      const remarksElement = document.getElementById('remarks');
      if (student.remarks) {
        remarksElement.textContent = student.remarks;
        remarksElement.parentElement.classList.remove('hidden');
      } else {
        remarksElement.parentElement.classList.add('hidden');
      }
      
      // Term grades
      document.getElementById('midtermAverage').textContent = student.midterm.average;
      document.getElementById('midtermGrade').textContent = student.midterm.grade;
      document.getElementById('finalAverage').textContent = student.final.average;
      document.getElementById('finalGrade').textContent = student.final.grade;
      
      // Grade breakdown - Midterm
      document.getElementById('midterm-studentship').textContent = student.midterm.studentship;
      document.getElementById('midterm-activities').textContent = student.midterm.activities;
      document.getElementById('midterm-recitation').textContent = student.midterm.recitation;
      document.getElementById('midterm-quizzes').textContent = student.midterm.quizzes;
      document.getElementById('midterm-exam').textContent = student.midterm.exam;
      document.getElementById('midterm-average').textContent = student.midterm.average;
      document.getElementById('midterm-grade-display').textContent = student.midterm.grade;
      
      // Grade breakdown - Final
      document.getElementById('final-studentship').textContent = student.final.studentship;
      document.getElementById('final-activities').textContent = student.final.activities;
      document.getElementById('final-recitation').textContent = student.final.recitation;
      document.getElementById('final-quizzes').textContent = student.final.quizzes;
      document.getElementById('final-exam').textContent = student.final.exam;
      document.getElementById('final-average').textContent = student.final.average;
      document.getElementById('final-grade-display').textContent = student.final.grade;
      
      // Attendance
      document.getElementById('attendanceSessions').textContent = student.attendance;
      
      // Calculate attendance percentage and update the SVG arc
      const attendancePercentage = (student.attendance / 16) * 100;
      document.getElementById('attendancePercentage').textContent = `${Math.round(attendancePercentage)}%`;
      
      const circumference = 2 * Math.PI * 54;
      const dashArray = (attendancePercentage / 100) * circumference;
      document.getElementById('attendanceArc').setAttribute('stroke-dasharray', `${dashArray} ${circumference}`);
      
      // Set attendance arc color based on status
      const attendanceArc = document.getElementById('attendanceArc');
      if (student.attendance >= 13) { // 13+ sessions (80%+)
        attendanceArc.setAttribute('stroke', '#10b981'); // Green
      } else if (student.attendance >= 8) { // 8-12 sessions (50-75%)
        attendanceArc.setAttribute('stroke', '#f59e0b'); // Yellow/Amber
      } else { // Less than 8 sessions (below 50%)
        attendanceArc.setAttribute('stroke', '#ef4444'); // Red
      }
    }

    function showStatusPrompt(title, message) {
      document.getElementById('statusPromptTitle').textContent = title;
      document.getElementById('statusPromptMessage').textContent = message;
      openModal('statusPromptModal');
    }

    function openModal(modalId) {
      document.getElementById(modalId).classList.remove('hidden');
    }

    function closeModal(modalId) {
      document.getElementById(modalId).classList.add('hidden');
    }

    // Close modals when clicking outside
    document.addEventListener('click', function(event) {
      const modals = document.querySelectorAll('.modal');
      modals.forEach(modal => {
        if (event.target === modal) {
          modal.classList.add('hidden');
        }
      });
    });
  </script>
</body>
</html>
